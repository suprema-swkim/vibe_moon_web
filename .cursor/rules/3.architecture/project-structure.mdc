---
description: Flutter í”„ë¡œì íŠ¸ì˜ í´ë” êµ¬ì¡°ë¥¼ ì •ì˜í•œ ê°€ì´ë“œë¼ì¸
globs: **/*.dart
alwaysApply: true
---

# ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° ê·œì¹™ (Project Structure Rules)

ì´ íŒŒì¼ì€ Flutter í”„ë¡œì íŠ¸ì˜ ì¼ê´€ëœ í´ë” êµ¬ì¡°ì™€ íŒŒì¼ ëª…ëª… ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤. AIì™€ ê°œë°œìëŠ” ìƒˆë¡œìš´ íŒŒì¼ì´ë‚˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì´ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

## 1. ğŸ“‚ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lib/
â”œâ”€â”€ main.dart                         # ì•± ì§„ì…ì 
â”œâ”€â”€ app/                              # ì•± ë ˆë²¨ ì„¤ì • ë° ë¼ìš°íŒ…
â”‚   â”œâ”€â”€ app.dart                      # App ìœ„ì ¯ ì •ì˜
â”‚   â”œâ”€â”€ router.dart                   # go_router ë¼ìš°íŒ… ì„¤ì •
â”‚   â””â”€â”€ theme/                        # ì•± í…Œë§ˆ ì„¤ì • (ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ 2.0)
â”‚       â”œâ”€â”€ app_colors.dart           # ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (Glass ë³€í˜• í¬í•¨)
â”‚       â”œâ”€â”€ app_effects.dart          # ë¸”ëŸ¬ ë° ê¸€ë˜ìŠ¤ íš¨ê³¼ í”„ë¦¬ì…‹
â”‚       â”œâ”€â”€ app_spacing.dart          # ê°„ê²© ë° ì—¬ë°± ìƒìˆ˜
â”‚       â”œâ”€â”€ app_theme.dart            # ThemeData ì„¤ì •
â”‚       â”œâ”€â”€ app_typography.dart       # íƒ€ì´í¬ê·¸ë˜í”¼ ìŠ¤íƒ€ì¼
â”‚       â””â”€â”€ theme.dart                # í…Œë§ˆ export íŒŒì¼
â”œâ”€â”€ components/                       # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ glass_button.dart             # ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ë²„íŠ¼
â”‚   â”œâ”€â”€ glass_card.dart               # ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ì¹´ë“œ
â”‚   â”œâ”€â”€ glass_empty_view.dart         # ë¹ˆ ìƒíƒœ ë·°
â”‚   â”œâ”€â”€ glass_error_view.dart         # ì—ëŸ¬ ë·°
â”‚   â”œâ”€â”€ glass_loading_indicator.dart  # ë¡œë”© ì¸ë””ì¼€ì´í„°
â”‚   â”œâ”€â”€ glass_text_field.dart         # ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ì…ë ¥ í•„ë“œ
â”‚   â”œâ”€â”€ responsive_layout.dart        # ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ìœ„ì ¯
â”‚   â””â”€â”€ widgets.dart                  # ì»´í¬ë„ŒíŠ¸ export íŒŒì¼
â”œâ”€â”€ core/                             # ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° ìƒìˆ˜
â”‚   â”œâ”€â”€ core.dart                     # Core export íŒŒì¼
â”‚   â”œâ”€â”€ constants/                    # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ animation_constants.dart  # ì• ë‹ˆë©”ì´ì…˜ ìƒìˆ˜
â”‚   â”‚   â”œâ”€â”€ app_constants.dart        # ì•± ì „ì—­ ìƒìˆ˜
â”‚   â”‚   â””â”€â”€ breakpoints.dart          # ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ extensions/                   # Dart í™•ì¥ ë©”ì„œë“œ
â”‚   â”‚   â”œâ”€â”€ context_extension.dart    # BuildContext í™•ì¥
â”‚   â”‚   â””â”€â”€ string_extension.dart     # String í™•ì¥
â”‚   â””â”€â”€ utils/                        # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚       â”œâ”€â”€ animation_helper.dart     # ì• ë‹ˆë©”ì´ì…˜ í—¬í¼
â”‚       â”œâ”€â”€ logger.dart               # ë¡œê¹… ìœ í‹¸ë¦¬í‹°
â”‚       â”œâ”€â”€ responsive_helper.dart    # ë°˜ì‘í˜• í—¬í¼
â”‚       â””â”€â”€ web_optimizer.dart        # ì›¹ ì„±ëŠ¥ ìµœì í™”
â””â”€â”€ pages/                            # í™”ë©´ ê³„ì¸µ (MVVM íŒ¨í„´)
    â””â”€â”€ home/                         # Home í™”ë©´
        â”œâ”€â”€ home_page.dart            # Home í™”ë©´ UI (View)
        â””â”€â”€ home_page_vm.dart         # Home í™”ë©´ ViewModel (ìƒíƒœ + ë¡œì§)
```

## 2. ğŸ“‹ ê³„ì¸µë³„ ìƒì„¸ ì„¤ëª…

### 2.1 app/ - ì•± ë ˆë²¨ ì„¤ì •
**ëª©ì **: ì•± ì „ì—­ ì„¤ì •, ë¼ìš°íŒ…, í…Œë§ˆ ê´€ë¦¬

- `app.dart`: MaterialApp ë˜ëŠ” ProviderScope ì„¤ì •
- `router.dart`: go_router ê¸°ë°˜ ë¼ìš°íŒ… ì„¤ì •
- `theme/`: ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ 2.0 ë””ìì¸ ì‹œìŠ¤í…œ
  - ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ê°„ê²©, íš¨ê³¼ ë“± í†µí•© ê´€ë¦¬

### 2.2 components/ - ì¬ì‚¬ìš© UI ì»´í¬ë„ŒíŠ¸
**ëª©ì **: í”„ë¡œì íŠ¸ ì „ì—­ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ UI ì»´í¬ë„ŒíŠ¸

**ë„¤ì´ë° ê·œì¹™**:
- `glass_*.dart`: ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸
- `{ê¸°ëŠ¥}_{íƒ€ì…}.dart`: ì˜ˆ) `glass_button.dart`, `glass_card.dart`

**ì»´í¬ë„ŒíŠ¸ ì¢…ë¥˜**:
- **ë²„íŠ¼**: `GlassButton` (primary, secondary, outlined)
- **ì¹´ë“œ**: `GlassCard` (í˜¸ë²„ íš¨ê³¼, í´ë¦­ ê°€ëŠ¥)
- **ì…ë ¥**: `GlassTextField` (í¬ì»¤ìŠ¤ íš¨ê³¼)
- **ìƒíƒœ**: `GlassLoadingIndicator`, `GlassErrorView`, `GlassEmptyView`
- **ë ˆì´ì•„ì›ƒ**: `ResponsiveLayout` (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†±)

### 2.3 core/ - ê³µí†µ ìœ í‹¸ë¦¬í‹°
**ëª©ì **: ì•± ì „ì—­ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìœ í‹¸ë¦¬í‹°, ìƒìˆ˜, í™•ì¥ ë©”ì„œë“œ

**í•˜ìœ„ êµ¬ì¡°**:
- `constants/`: ë³€í•˜ì§€ ì•ŠëŠ” ê°’ (ì• ë‹ˆë©”ì´ì…˜ duration, ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ë“±)
- `extensions/`: Dart ê¸°ë³¸ íƒ€ì… í™•ì¥ (BuildContext, String ë“±)
- `utils/`: í—¬í¼ í•¨ìˆ˜ (ë¡œê¹…, ë°˜ì‘í˜• ê³„ì‚°, ì›¹ ìµœì í™” ë“±)

### 2.4 pages/ - í™”ë©´ ê³„ì¸µ
**ëª©ì **: MVVM íŒ¨í„´ ê¸°ë°˜ í™”ë©´ êµ¬í˜„

**ë„¤ì´ë° ê·œì¹™**:
- í´ë”ëª…: `{í™”ë©´ëª…}/` (ì˜ˆ: `home/`, `login/`, `branch_list/`)
- View: `{í™”ë©´ëª…}_page.dart` (ì˜ˆ: `home_page.dart`)
- ViewModel: `{í™”ë©´ëª…}_page_vm.dart` (ì˜ˆ: `home_page_vm.dart`)

**êµ¬ì¡° ì˜ˆì‹œ**:
```
pages/
â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ home_page.dart          # UI (StatelessWidget + ConsumerWidget)
â”‚   â””â”€â”€ home_page_vm.dart       # ìƒíƒœ ê´€ë¦¬ (Riverpod Provider)
â”œâ”€â”€ branch/
â”‚   â”œâ”€â”€ branch_list_page.dart
â”‚   â”œâ”€â”€ branch_list_page_vm.dart
â”‚   â”œâ”€â”€ branch_detail_page.dart
â”‚   â””â”€â”€ branch_detail_page_vm.dart
â””â”€â”€ auth/
    â”œâ”€â”€ login_page.dart
    â””â”€â”€ login_page_vm.dart
```

## 3. ğŸ“ íŒŒì¼ ë„¤ì´ë° ê·œì¹™

### 3.1 Dart íŒŒì¼ëª…
- **ì†Œë¬¸ì + ì–¸ë”ìŠ¤ì½”ì–´**: `home_page.dart`, `glass_button.dart`
- **ëª…í™•í•œ ì ‘ë¯¸ì‚¬**: `_page`, `_vm`, `_widget`, `_model`, `_repository`

### 3.2 í´ë˜ìŠ¤ëª…
- **PascalCase**: `HomePage`, `GlassButton`, `BranchModel`
- **ì ‘ë¯¸ì‚¬ ì¼ì¹˜**: íŒŒì¼ëª…ê³¼ ë™ì¼í•œ ì ‘ë¯¸ì‚¬ ì‚¬ìš©

### 3.3 Export íŒŒì¼
- **ëª©ì **: ì—¬ëŸ¬ íŒŒì¼ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ import ê°„ì†Œí™”
- **ë„¤ì´ë°**: í´ë”ëª…ê³¼ ë™ì¼ (ì˜ˆ: `theme.dart`, `widgets.dart`, `core.dart`)

**ì˜ˆì‹œ**:
```dart
// lib/components/widgets.dart
export 'glass_button.dart';
export 'glass_card.dart';
export 'glass_text_field.dart';
export 'glass_loading_indicator.dart';
export 'glass_error_view.dart';
export 'glass_empty_view.dart';
export 'responsive_layout.dart';
```

## 4. ğŸ¯ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê°€ì´ë“œ

### 4.1 ìƒˆë¡œìš´ í™”ë©´ ì¶”ê°€
1. `pages/` í•˜ìœ„ì— í™”ë©´ëª… í´ë” ìƒì„±
2. `{í™”ë©´ëª…}_page.dart` íŒŒì¼ ìƒì„± (View)
3. `{í™”ë©´ëª…}_page_vm.dart` íŒŒì¼ ìƒì„± (ViewModel)
4. `app/router.dart`ì— ë¼ìš°íŠ¸ ì¶”ê°€

**ì˜ˆì‹œ**:
```dart
// pages/branch_list/branch_list_page.dart
class BranchListPage extends ConsumerWidget {
  const BranchListPage({super.key});
  
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final branchListState = ref.watch(branchListViewModelProvider);
    // UI êµ¬í˜„
  }
}

// pages/branch_list/branch_list_page_vm.dart
@riverpod
class BranchListViewModel extends _$BranchListViewModel {
  @override
  FutureOr<List<Branch>> build() async {
    // ìƒíƒœ ë¡œì§
  }
}
```

### 4.2 ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
1. `components/` í•˜ìœ„ì— `{ì»´í¬ë„ŒíŠ¸ëª…}.dart` íŒŒì¼ ìƒì„±
2. ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ìŠ¤íƒ€ì¼ ì ìš© (BackdropFilter, íˆ¬ëª…ë„, í…Œë‘ë¦¬)
3. `components/widgets.dart`ì— export ì¶”ê°€

### 4.3 ìƒˆë¡œìš´ ìœ í‹¸ë¦¬í‹° ì¶”ê°€
1. `core/utils/` í•˜ìœ„ì— `{ê¸°ëŠ¥ëª…}_helper.dart` íŒŒì¼ ìƒì„±
2. ìˆœìˆ˜ í•¨ìˆ˜ë¡œ êµ¬í˜„ (ë¶€ì‘ìš© ì—†ì´)
3. `core/core.dart`ì— export ì¶”ê°€

## 5. ğŸš« ê¸ˆì§€ ì‚¬í•­

### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ
- **í•˜ë“œì½”ë”©ëœ ê²½ë¡œ**: `import 'package:vibe_moon_web/app/theme/app_colors.dart';` ëŒ€ì‹  `import '../theme/theme.dart';` ì‚¬ìš©
- **ê¹Šì€ ì¤‘ì²©**: 3ë‹¨ê³„ ì´ìƒ í´ë” ì¤‘ì²© ì§€ì–‘
- **í˜¼ì¬ëœ ì±…ì„**: Viewì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨ ê¸ˆì§€
- **ì¼ê´€ì„± ì—†ëŠ” ë„¤ì´ë°**: íŒŒì¼ëª…ê³¼ í´ë˜ìŠ¤ëª… ë¶ˆì¼ì¹˜ ê¸ˆì§€

### âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´
- **ìƒëŒ€ ê²½ë¡œ import**: ê°™ì€ ëª¨ë“ˆ ë‚´ì—ì„œëŠ” ìƒëŒ€ ê²½ë¡œ ì‚¬ìš©
- **Export íŒŒì¼ í™œìš©**: `import 'package:vibe_moon_web/components/widgets.dart';`
- **ëª…í™•í•œ ê³„ì¸µ ë¶„ë¦¬**: View(UI) â†” ViewModel(ë¡œì§) â†” Repository(ë°ì´í„°)
- **ì¼ê´€ëœ ë„¤ì´ë°**: `branch_list_page.dart` â†’ `class BranchListPage`

## 6. ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìƒˆ íŒŒì¼ ìƒì„± ì‹œ
- [ ] íŒŒì¼ëª…ì´ ì†Œë¬¸ì + ì–¸ë”ìŠ¤ì½”ì–´ í˜•ì‹ì¸ê°€?
- [ ] í´ë˜ìŠ¤ëª…ì´ PascalCaseì´ë©° íŒŒì¼ëª…ê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?
- [ ] ì ì ˆí•œ í´ë”ì— ìœ„ì¹˜í•˜ëŠ”ê°€? (pages, components, core)
- [ ] Export íŒŒì¼ì— ì¶”ê°€í–ˆëŠ”ê°€?
- [ ] ìƒëŒ€ ê²½ë¡œ importë¥¼ ì‚¬ìš©í–ˆëŠ”ê°€?

### ìƒˆ í™”ë©´ ì¶”ê°€ ì‹œ
- [ ] `pages/{í™”ë©´ëª…}/` í´ë” ìƒì„±
- [ ] `{í™”ë©´ëª…}_page.dart` íŒŒì¼ ìƒì„±
- [ ] `{í™”ë©´ëª…}_page_vm.dart` íŒŒì¼ ìƒì„±
- [ ] `app/router.dart`ì— ë¼ìš°íŠ¸ ì¶”ê°€
- [ ] ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ UI ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

### ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ
- [ ] `components/` í´ë”ì— ìƒì„±
- [ ] ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ìŠ¤íƒ€ì¼ ì ìš© (BackdropFilter, íˆ¬ëª…ë„)
- [ ] ë°˜ì‘í˜• ë””ìì¸ ê³ ë ¤
- [ ] `components/widgets.dart`ì— export ì¶”ê°€

---

**í•µì‹¬ ì›ì¹™**: "ëª…í™•í•˜ê³ , ì¼ê´€ë˜ê³ , í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°"

**êµ¬ì¡° ì¤€ìˆ˜ = ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ = ê°œë°œ ì†ë„ ì¦ê°€**

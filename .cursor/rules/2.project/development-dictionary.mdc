---
description: ì´ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ê°œë°œ ìš©ì–´ë¥¼ AIê°€ ì‰½ê²Œ ì´í•´í•˜ê³  ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
globs: **/*.dart
# alwaysApply: true
---

# ğŸ“š ê°œë°œ ìš©ì–´ ì‚¬ì „ & Ubiquitous Language (ë³´í¸ ì–¸ì–´)

ì´ íŒŒì¼ì€ í”„ë¡œì íŠ¸ ë‚´ ëª¨í˜¸í•¨ì„ ì—†ì• ê³ , AIì™€ ê°œë°œìê°€ ë™ì¼í•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì½”ë“œ ì‘ì„±, ë³€ìˆ˜ ëª…ëª…, ë¬¸ì„œí™” ì‹œ ì´ ì •ì˜ë¥¼ ë”°ë¥´ì‹­ì‹œì˜¤. AIëŠ” ì´ íŒŒì¼ì„ ì°¸ì¡°í•˜ì—¬ ìš©ì–´ë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.

## 1. ğŸ¢ ê³„ì¸µ êµ¬ì¡° (Hierarchy)

\`\`\`
Branch (1) â”€â”€> PlaceGroup (N) â”€â”€> Place (N)
  ì§€ì             ê³µê°„ ê·¸ë£¹           ê³µê°„

ì˜ˆì‹œ:
- Branch: "ê°•ë‚¨ì "
  â””â”€ PlaceGroup: "íšŒì˜ì‹¤ Aë™"
      â”œâ”€ Place: "íšŒì˜ì‹¤ A101"
      â”œâ”€ Place: "íšŒì˜ì‹¤ A102"
      â””â”€ Place: "íšŒì˜ì‹¤ A103"
  â””â”€ PlaceGroup: "ìŠ¤í„°ë””ë£¸ Bë™"
      â”œâ”€ Place: "ìŠ¤í„°ë””ë£¸ B201"
      â””â”€ Place: "ìŠ¤í„°ë””ë£¸ B202"
\`\`\`

## 2. ğŸ¢ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ìš©ì–´ (Domain Terms)

ì•„ë˜ ìš©ì–´ëŠ” í‚¤-ê°’ í˜•ì‹ìœ¼ë¡œ ì •ì˜ë©ë‹ˆë‹¤. AIëŠ” ì´ ìš©ì–´ë¥¼ ì½”ë“œ ìƒì„± ì‹œ ìš°ì„  ì ìš©í•˜ì„¸ìš”.

### **Branch**
- **í•œêµ­ì–´**: ì§€ì 
- **ì„¤ëª…**: ìµœìƒìœ„ ê³„ì¸µ êµ¬ì¡°ë¡œ, í•˜ë‚˜ì˜ ì‚¬ì—…ì¥ ë˜ëŠ” ì§€ì ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ê´€ê³„**: ì—¬ëŸ¬ ê°œì˜ PlaceGroupì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (1:N ê´€ê³„)
- **ì†ì„± ì˜ˆì‹œ**: \`branchId\`, \`branchName\`, \`branchAddress\`, \`branchPhoneNumber\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`BranchModel\`, \`BranchRepository\`, \`branch_list_page.dart\`
- **Dart ì½”ë“œ ì˜ˆì‹œ**:

\`\`\`dart
class BranchModel {
  final String branchId;
  final String branchName;
  final String branchAddress;
  final String? branchPhoneNumber;
  
  BranchModel({
    required this.branchId,
    required this.branchName,
    required this.branchAddress,
    this.branchPhoneNumber,
  });
}
\`\`\`

### **PlaceGroup**
- **í•œêµ­ì–´**: ê³µê°„ ê·¸ë£¹
- **ì„¤ëª…**: ì¤‘ê°„ ê³„ì¸µ êµ¬ì¡°ë¡œ, Branch ë‚´ì—ì„œ ì—¬ëŸ¬ Placeë¥¼ ë¬¶ëŠ” ê·¸ë£¹ì…ë‹ˆë‹¤.
- **ê´€ê³„**: í•˜ë‚˜ì˜ Branchì— ì†í•˜ë©°, ì—¬ëŸ¬ Placeë¥¼ í¬í•¨í•©ë‹ˆë‹¤. (N:1:N ê´€ê³„)
- **ì†ì„± ì˜ˆì‹œ**: \`placeGroupId\`, \`placeGroupName\`, \`branchId\`, \`placeCount\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`PlaceGroupModel\`, \`PlaceGroupRepository\`, \`place_group_list_page.dart\`
- **Dart ì½”ë“œ ì˜ˆì‹œ**:

\`\`\`dart
class PlaceGroupModel {
  final String placeGroupId;
  final String placeGroupName;
  final String branchId;
  final int placeCount;
  
  PlaceGroupModel({
    required this.placeGroupId,
    required this.placeGroupName,
    required this.branchId,
    required this.placeCount,
  });
}
\`\`\`

### **Place**
- **í•œêµ­ì–´**: ê³µê°„
- **ì„¤ëª…**: ìµœí•˜ìœ„ ê³„ì¸µ êµ¬ì¡°ë¡œ, PlaceGroup ë‚´ì˜ ê°œë³„ ê³µê°„ ë‹¨ìœ„ì…ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ê°€ ì œê³µë˜ëŠ” ê³µê°„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
  - **ë¬¼ë¦¬ì  ê³µê°„ ì˜ˆì‹œ**: íšŒì˜ì‹¤ A101, ìŠ¤í„°ë””ë£¸ B201, ì„¸ë¯¸ë‚˜ì‹¤ C301
  - **ë…¼ë¦¬ì  ê³µê°„ ì˜ˆì‹œ**: ì˜¨ë¼ì¸ í™”ìƒíšŒì˜ì‹¤, ê°€ìƒ ìŠ¤í„°ë””ë£¸
- **ê´€ê³„**: í•˜ë‚˜ì˜ PlaceGroupì— ì†í•©ë‹ˆë‹¤. (N:1 ê´€ê³„)
- **ì†ì„± ì˜ˆì‹œ**: \`placeId\`, \`placeName\`, \`placeGroupId\`, \`capacity\`, \`price\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`PlaceModel\`, \`PlaceRepository\`, \`place_detail_page.dart\`
- **Dart ì½”ë“œ ì˜ˆì‹œ**:

\`\`\`dart
class PlaceModel {
  final String placeId;
  final String placeName;
  final String placeGroupId;
  final int capacity;
  final double price;
  final PlaceType type; // physical or virtual
  
  PlaceModel({
    required this.placeId,
    required this.placeName,
    required this.placeGroupId,
    required this.capacity,
    required this.price,
    required this.type,
  });
}

enum PlaceType {
  physical,  // ë¬¼ë¦¬ì  ê³µê°„ (íšŒì˜ì‹¤, ìŠ¤í„°ë””ë£¸ ë“±)
  virtual,   // ë…¼ë¦¬ì  ê³µê°„ (ì˜¨ë¼ì¸ í™”ìƒíšŒì˜ì‹¤ ë“±)
}
\`\`\`

## 3. ğŸ‘¤ ì‚¬ìš©ì ê´€ë ¨ ìš©ì–´

### **User**
- **í•œêµ­ì–´**: ì‚¬ìš©ì
- **ì„¤ëª…**: ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì‚¬ìš©ìë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`userId\`, \`userEmail\`, \`userRole\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`UserService\`, \`UserRepository\`, \`user_profile_page.dart\`

### **Member**
- **í•œêµ­ì–´**: íšŒì›
- **ì„¤ëª…**: ì„œë¹„ìŠ¤ì— ê°€ì…í•œ ì •íšŒì›ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: íšŒì› ì •ë³´ ê´€ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`memberId\`, \`memberName\`, \`membershipLevel\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`MemberService\`, \`MemberRepository\`, \`member_list_page.dart\`

## 4. ğŸ“… ì˜ˆì•½ ê´€ë ¨ ìš©ì–´

### **Reservation**
- **í•œêµ­ì–´**: ì˜ˆì•½
- **ì„¤ëª…**: íŠ¹ì • Placeì— ëŒ€í•œ ì˜ˆì•½ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: ì˜ˆì•½ ê´€ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`reservationId\`, \`placeId\`, \`userId\`, \`startTime\`, \`endTime\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`ReservationService\`, \`ReservationRepository\`, \`reservation_page.dart\`

### **Booking**
- **í•œêµ­ì–´**: ì˜ˆì•½ í™•ì •
- **ì„¤ëª…**: í™•ì •ëœ ì˜ˆì•½ ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: ì˜ˆì•½ í™•ì • ì²˜ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`bookingId\`, \`reservationId\`, \`bookingStatus\`, \`confirmedAt\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`BookingService\`, \`BookingRepository\`, \`booking_confirmation_page.dart\`

## 5. ğŸ’³ ê²°ì œ ê´€ë ¨ ìš©ì–´

### **Payment**
- **í•œêµ­ì–´**: ê²°ì œ
- **ì„¤ëª…**: ì„œë¹„ìŠ¤ ì´ìš©ì— ëŒ€í•œ ê²°ì œ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: ê²°ì œ ì²˜ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`paymentId\`, \`bookingId\`, \`amount\`, \`paymentMethod\`, \`paymentStatus\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`PaymentService\`, \`PaymentRepository\`, \`payment_page.dart\`

## 6. â­ ë¦¬ë·° ê´€ë ¨ ìš©ì–´

### **Review**
- **í•œêµ­ì–´**: ë¦¬ë·°
- **ì„¤ëª…**: ì„œë¹„ìŠ¤ ì´ìš© í›„ ì‘ì„±í•˜ëŠ” í‰ê°€ ë° í›„ê¸°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: ë¦¬ë·° ê´€ë¦¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`reviewId\`, \`placeId\`, \`userId\`, \`rating\`, \`comment\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`ReviewService\`, \`ReviewRepository\`, \`review_list_page.dart\`

### **Rating**
- **í•œêµ­ì–´**: í‰ì 
- **ì„¤ëª…**: ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìˆ˜ì¹˜í™”ëœ í‰ê°€ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **ì½”ë“œ ì»¨í…ìŠ¤íŠ¸**: í‰ì  ê³„ì‚° ë° í‘œì‹œì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì†ì„± ì˜ˆì‹œ**: \`averageRating\`, \`ratingScore\`, \`ratingCount\`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: \`RatingCalculator\`, \`rating_display_widget.dart\`

## 7. ğŸŒ API ì—”ë“œí¬ì¸íŠ¸ ë„¤ì´ë° ê·œì¹™

API ì—”ë“œí¬ì¸íŠ¸ëŠ” RESTful ì›ì¹™ì„ ë”°ë¥´ë©°, ì•„ë˜ ë„¤ì´ë° ê·œì¹™ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤:

### Branch ê´€ë ¨ API
\`\`\`
GET    /api/branches              # ì§€ì  ëª©ë¡ ì¡°íšŒ
GET    /api/branches/{id}         # íŠ¹ì • ì§€ì  ìƒì„¸ ì¡°íšŒ
POST   /api/branches              # ì§€ì  ìƒì„±
PUT    /api/branches/{id}         # ì§€ì  ìˆ˜ì •
DELETE /api/branches/{id}         # ì§€ì  ì‚­ì œ
\`\`\`

### PlaceGroup ê´€ë ¨ API
\`\`\`
GET    /api/place-groups                    # ê³µê°„ ê·¸ë£¹ ëª©ë¡ ì¡°íšŒ
GET    /api/place-groups/{id}               # íŠ¹ì • ê³µê°„ ê·¸ë£¹ ìƒì„¸ ì¡°íšŒ
GET    /api/branches/{id}/place-groups      # íŠ¹ì • ì§€ì ì˜ ê³µê°„ ê·¸ë£¹ ëª©ë¡
POST   /api/place-groups                    # ê³µê°„ ê·¸ë£¹ ìƒì„±
PUT    /api/place-groups/{id}               # ê³µê°„ ê·¸ë£¹ ìˆ˜ì •
DELETE /api/place-groups/{id}               # ê³µê°„ ê·¸ë£¹ ì‚­ì œ
\`\`\`

### Place ê´€ë ¨ API
\`\`\`
GET    /api/places                          # ê³µê°„ ëª©ë¡ ì¡°íšŒ
GET    /api/places/{id}                     # íŠ¹ì • ê³µê°„ ìƒì„¸ ì¡°íšŒ
GET    /api/place-groups/{id}/places        # íŠ¹ì • ê³µê°„ ê·¸ë£¹ì˜ ê³µê°„ ëª©ë¡
POST   /api/places                          # ê³µê°„ ìƒì„±
PUT    /api/places/{id}                     # ê³µê°„ ìˆ˜ì •
DELETE /api/places/{id}                     # ê³µê°„ ì‚­ì œ
\`\`\`

### Reservation ê´€ë ¨ API
\`\`\`
GET    /api/reservations                    # ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ
GET    /api/reservations/{id}               # íŠ¹ì • ì˜ˆì•½ ìƒì„¸ ì¡°íšŒ
GET    /api/users/{id}/reservations         # íŠ¹ì • ì‚¬ìš©ìì˜ ì˜ˆì•½ ëª©ë¡
POST   /api/reservations                    # ì˜ˆì•½ ìƒì„±
PUT    /api/reservations/{id}               # ì˜ˆì•½ ìˆ˜ì •
DELETE /api/reservations/{id}               # ì˜ˆì•½ ì·¨ì†Œ
\`\`\`

### Payment ê´€ë ¨ API
\`\`\`
GET    /api/payments                        # ê²°ì œ ëª©ë¡ ì¡°íšŒ
GET    /api/payments/{id}                   # íŠ¹ì • ê²°ì œ ìƒì„¸ ì¡°íšŒ
POST   /api/payments                        # ê²°ì œ ìƒì„±
POST   /api/payments/{id}/confirm           # ê²°ì œ í™•ì •
POST   /api/payments/{id}/cancel            # ê²°ì œ ì·¨ì†Œ
\`\`\`

### Review ê´€ë ¨ API
\`\`\`
GET    /api/reviews                         # ë¦¬ë·° ëª©ë¡ ì¡°íšŒ
GET    /api/reviews/{id}                    # íŠ¹ì • ë¦¬ë·° ìƒì„¸ ì¡°íšŒ
GET    /api/places/{id}/reviews             # íŠ¹ì • ê³µê°„ì˜ ë¦¬ë·° ëª©ë¡
POST   /api/reviews                         # ë¦¬ë·° ìƒì„±
PUT    /api/reviews/{id}                    # ë¦¬ë·° ìˆ˜ì •
DELETE /api/reviews/{id}                    # ë¦¬ë·° ì‚­ì œ
\`\`\`

## 8. ğŸ“ ë„¤ì´ë° ì»¨ë²¤ì…˜ ìš”ì•½

### íŒŒì¼ëª…
- **Model**: \`{entity}_model.dart\` (ì˜ˆ: \`branch_model.dart\`)
- **Repository**: \`{entity}_repository.dart\` (ì˜ˆ: \`branch_repository.dart\`)
- **Service**: \`{entity}_service.dart\` (ì˜ˆ: \`branch_service.dart\`)
- **Page**: \`{entity}_{action}_page.dart\` (ì˜ˆ: \`branch_list_page.dart\`)
- **Widget**: \`{entity}_{description}_widget.dart\` (ì˜ˆ: \`branch_card_widget.dart\`)

### í´ë˜ìŠ¤ëª…
- **Model**: \`{Entity}Model\` (ì˜ˆ: \`BranchModel\`)
- **Repository**: \`{Entity}Repository\` (ì˜ˆ: \`BranchRepository\`)
- **Service**: \`{Entity}Service\` (ì˜ˆ: \`BranchService\`)
- **Page**: \`{Entity}{Action}Page\` (ì˜ˆ: \`BranchListPage\`)
- **Widget**: \`{Entity}{Description}Widget\` (ì˜ˆ: \`BranchCardWidget\`)

### ë³€ìˆ˜ëª…
- **ID**: \`{entity}Id\` (ì˜ˆ: \`branchId\`, \`placeGroupId\`)
- **Name**: \`{entity}Name\` (ì˜ˆ: \`branchName\`, \`placeName\`)
- **List**: \`{entity}List\` (ì˜ˆ: \`branchList\`, \`placeList\`)
- **Count**: \`{entity}Count\` (ì˜ˆ: \`placeCount\`, \`reviewCount\`)

---

**AI ì¤€ìˆ˜ ì‚¬í•­**: ì´ ìš©ì–´ ì‚¬ì „ì˜ ëª¨ë“  ì •ì˜ë¥¼ ì½”ë“œ ìƒì„±, ë³€ìˆ˜ ëª…ëª…, API ì„¤ê³„ ì‹œ ì¼ê´€ë˜ê²Œ ì ìš©í•˜ì„¸ìš”. ìƒˆë¡œìš´ ìš©ì–´ê°€ í•„ìš”í•œ ê²½ìš°, ì´ íŒŒì¼ì˜ í˜•ì‹ì„ ë”°ë¼ ì¶”ê°€í•˜ì„¸ìš”.

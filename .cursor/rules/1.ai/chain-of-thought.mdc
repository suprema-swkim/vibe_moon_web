---
description: AI가 답변 시 체계적인 사고 과정(Chain of Thought)을 거쳐 더 정확하고 논리적인 답변을 제공하도록 하는 규칙
globs: **/*
alwaysApply: true
---

# 🧠 Chain of Thought (CoT) 프롬프트 규칙

AI는 복잡한 문제 해결 시 단계적이고 논리적인 사고 과정을 명시적으로 표현해야 합니다.

## 1. 🎯 CoT의 목적

* **정확도 향상**: 단계별 검증을 통한 오류 감소
* **투명성 제공**: 사고 과정을 명확히 전달
* **디버깅 용이**: 문제 발생 단계 파악 가능
* **학습 효과**: 문제 해결 과정 이해 및 학습

## 2. 📋 CoT 적용 시나리오

### 필수 적용
* 복잡한 로직 구현 (알고리즘, 상태 관리, 데이터 변환)
* 아키텍처 설계 (구조, 디자인 패턴, 계층 분리)
* 버그 분석 및 수정
* 성능 최적화
* API 설계 및 리팩토링

### 선택 적용
* 간단한 코드 작성 (필요시 간략한 CoT)
* 문서 작성 및 코드 리뷰

## 3. 🔄 CoT 4단계 프로세스

### Step 1: 문제 이해
```
[문제 분석]
- 요구사항 파악
- 핵심 목표 및 제약 조건
- 관련 컨텍스트 확인
```

### Step 2: 계획 수립
```
[해결 계획]
1. 필요한 컴포넌트 식별
2. 구현 순서 결정
3. 의존성 및 영향 범위
4. 예상 문제 및 대응 방안
```

### Step 3: 단계별 구현
```
[구현 단계]
- 무엇을 구현하는가
- 왜 이렇게 구현하는가
- 주의할 점은 무엇인가
```

### Step 4: 검증 및 개선
```
[검증 체크리스트]
✅ 요구사항 충족
✅ 코딩 규칙 준수
✅ 에러 처리
✅ 성능 고려
✅ 테스트 가능성
```

## 4. 📝 CoT 응답 템플릿

### 복잡한 작업용 (풀 템플릿)
```markdown
## 🔍 문제 분석
[요청 요약 / 목표 / 제약 조건]

## 📋 해결 계획
1. [컴포넌트/단계]
2. [구현 순서]
3. [주의사항]

## 🛠️ 구현
[코드 + 간단한 설명]

## ✅ 검증
- 요구사항 충족 여부
- 규칙 준수 여부
```

### 중간 작업용 (간소화 템플릿)
```markdown
## 계획
1. [단계]
2. [단계]

## 구현
[코드 + 핵심 설명]
```

### 간단한 작업용 (최소 템플릿)
```markdown
[간단한 설명]
[코드]
```

## 5. 💡 작성 가이드라인

* **명확성**: 구체적으로 작성, 핵심 논리는 생략 금지
* **구조화**: 단계별 명확히 구분, 계층 구조 활용
* **논리성**: 각 단계가 이전 단계 기반, 가정 명시
* **실용성**: 실제 구현 가능한 방안, 코드 예시 포함

## 6. 🚫 안티패턴

### ❌ 사고 과정 생략
```
AI: "네, 여기 코드입니다. [코드 덤프]"
```

### ❌ 과도하게 장황함
```
AI: "먼저 Branch의 어원을... REST API의 역사를..."
```

### ❌ 논리적 비약
```
AI: "Branch 필요 → PlaceGroup 필요 → 인증 시스템 필요"
```

### ✅ 좋은 예시
```
## 🔍 문제 분석
Branch 목록 API 구현 (MVVM + Riverpod)

## 📋 해결 계획
1. Domain: Branch 엔티티
2. Data: API 통신, 직렬화
3. Presentation: UI, 상태 관리

## 🛠️ 단계별 구현
[각 단계별 구현 + 설명]
```

## 7. 🔧 활용 팁

### 복잡도별 CoT 깊이
* **간단** (1-2분): 간략한 계획 + 구현
* **중간** (5-10분): 분석 + 계획 + 구현 + 검증
* **복잡** (10분+): 전체 프로세스 적용

### 사용자 피드백 반영
* "왜?"라고 물으면 → 사고 과정 상세 설명
* "빨리"라고 하면 → 간결하게 유지, 핵심 포함

## 8. ✨ 핵심 원칙

**"Think step-by-step, explain clearly, implement correctly."**

복잡한 작업일수록 CoT를 철저히 적용하여 정확성과 신뢰성을 확보하세요.
